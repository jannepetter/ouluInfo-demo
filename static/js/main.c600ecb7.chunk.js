(this.webpackJsonpouluinfo=this.webpackJsonpouluinfo||[]).push([[0],{48:function(e,n,t){},49:function(e,n,t){},78:function(e,n,t){},79:function(e,n,t){},80:function(e,n,t){},81:function(e,n,t){},86:function(e,n,t){},87:function(e,n,t){"use strict";t.r(n);var a=t(4),r=t(5),c=t(64),i=t.n(c),s=t(42),o=(t(78),t(89)),u=t(34),l=t(22),d=t.n(l);function j(){var e=Object(u.a)(["\nquery GetAllTrafficAnnouncements { \n  trafficAnnouncements {\n    id\n    announcementId\n    title {\n      fi\n    }\n    description {\n      fi\n    }\n    startTime\n    endTime\n  }\n}\n"]);return j=function(){return e},e}function m(){var e=Object(u.a)(["\nquery GetAllRoadworks { \n  roadworks {\n    id\n    roadworkId\n    severity\n    status\n    startTime\n    endTime\n    description {\n      fi\n    }\n  } \n}\n"]);return m=function(){return e},e}function p(){var e=Object(u.a)(["\nquery GetAllCarParks {\n    carParks {\n      carParkId\n      name\n      lat\n      lon\n      maxCapacity\n      spacesAvailable\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=Object(u.a)(["\nquery GetAllCameras { \n    cameras {\n      cameraId\n      name\n      lat\n      lon\n      presets {\n        presetId\n        presentationName\n        imageUrl\n        measuredTime\n      }\n    }\n  }\n"]);return f=function(){return e},e}var b=d()(f()),O=d()(p()),v=d()(m()),x=d()(j()),k=(t(79),function(e){var n=e.setPage,t=e.page,r="parking"===t?"clickedB":"",c="cameras"===t?"clickedB":"",i="roadworks"===t?"clickedB":"",s="trafficann"===t?"clickedB":"",o=function(e){n(e),window.scrollTo(0,0)};return Object(a.jsxs)("div",{id:"navbar",className:"menubarContainer",children:[Object(a.jsx)("div",{onClick:function(){return o("cameras")},className:"menubarButton "+c,children:"Kamerat"}),Object(a.jsx)("div",{onClick:function(){return o("parking")},className:"menubarButton "+r,children:"Parkkitilat"}),Object(a.jsx)("div",{onClick:function(){return o("roadworks")},className:"menubarButton "+i,children:"Tiety\xf6t"}),Object(a.jsx)("div",{onClick:function(){return o("trafficann")},className:"menubarButton "+s,children:"Tiedotteet"})]})}),g=(t(48),function(e){var n=e.imageUrl,t=e.time,c=e.presentationName,i=Object(r.useState)(!1),o=Object(s.a)(i,2),u=o[0],l=o[1],d=t?t.replace("T"," ").replace("Z","").replace(".000",""):"",j=c||"",m=u?"largeImage":"smallImage";return Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{onClick:function(){l(!u)},className:m,src:n,alt:"not found"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"timestamp",children:d+" "+j})]})}),h=function(e){var n=e.name,t=e.presets;return Object(a.jsxs)("div",{className:"cameraBox",children:[Object(a.jsx)("span",{className:"headLine",children:n}),t.map((function(e){return Object(a.jsx)(g,{imageUrl:e.imageUrl,time:e.measuredTime,presentationName:e.presentationName},e.presetId)}))]})},T=function(e){var n=e.page,t=e.cameras;if("cameras"!==n||t.loading)return Object(a.jsx)("div",{});var r=t.data.cameras;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"cameraBox",children:Object(a.jsx)(g,{imageUrl:"https://kamerat.oulunkaupunki.fi/Kauppatori/picture1.jpg",time:"",presentationName:"Kauppatori"},"ouluntoriwebcam1")}),r.map((function(e){return Object(a.jsx)(h,{name:e.name,presets:e.presets},e.cameraId)}))]})},y=(t(49),function(e){var n=e.place,t=n.name?n.name:"",r=n.maxCapacity?n.maxCapacity:"",c=n.spacesAvailable?n.spacesAvailable:"";return Object(a.jsxs)("div",{className:"parkCard",children:[Object(a.jsx)("h3",{children:t}),Object(a.jsxs)("p",{children:["Paikkoja yhteens\xe4: ",r]}),Object(a.jsxs)("p",{children:["Vapaana: ",c]})]})}),w=function(e){var n=e.parking;if("parking"!==e.page||n.loading)return Object(a.jsx)("div",{});var t=n.data.carParks;return Object(a.jsxs)("div",{className:"parkingContainer",children:[t.map((function(e){return Object(a.jsx)(y,{place:e},e.carParkId)})),Object(a.jsx)("br",{})]})},N=(t(80),function(e){var n=e.work,t=n.description.fi?n.description.fi:"",r=n.startTime?n.startTime.replace("T"," ").replace("Z",""):"",c=n.endTime?n.endTime.replace("T"," ").replace("Z","").replace(".999",""):"";return Object(a.jsxs)("div",{className:"roadWorkContainer",children:[Object(a.jsx)("p",{children:t}),Object(a.jsxs)("div",{children:["Ty\xf6 aloitettu: ",r]}),Object(a.jsxs)("div",{children:["Ty\xf6 p\xe4\xe4ttyy: ",c]})]})}),C=function(e){var n=e.roadworks;if("roadworks"!==e.page||n.loading)return Object(a.jsx)("div",{});var t=n.data.roadworks;return Object(a.jsx)("div",{children:t.map((function(e){return Object(a.jsx)(N,{work:e},e.id)}))})},A=(t(81),function(e){var n=e.announcement,t=n.startTime?n.startTime.replace("T"," "):"",r=n.endTime?n.endTime.replace("T"," "):"",c=n.title.fi?n.title.fi:"",i=n.description.fi?n.description.fi:"";return Object(a.jsxs)("div",{className:"announcementBox",children:[Object(a.jsx)("h4",{children:c}),Object(a.jsx)("p",{children:i}),Object(a.jsxs)("div",{children:["Alkaa: ",t]}),Object(a.jsxs)("div",{children:["P\xe4\xe4ttyy: ",r]})]})}),B=function(e){var n=e.page,t=e.trafficAnnouncements;if("trafficann"!==n||t.loading)return Object(a.jsx)("div",{});var r=t.data.trafficAnnouncements;return Object(a.jsx)("div",{children:r.map((function(e){return Object(a.jsx)(A,{announcement:e},e.id)}))})};var I=function(){var e=Object(o.useQuery)(b),n=Object(o.useQuery)(O),t=Object(o.useQuery)(v),c=Object(o.useQuery)(x),i=Object(r.useState)("cameras"),u=Object(s.a)(i,2),l=u[0],d=u[1];return function(){var e=document.getElementById("navbar"),n=0;document.addEventListener("scroll",(function(){var t=window.pageYOffset;e&&e.style&&(e.style.top=t>=n?-e.clientHeight+"px":"0px",n=window.pageYOffset)}))}(),Object(a.jsxs)("div",{children:[Object(a.jsx)(k,{setPage:d,page:l}),Object(a.jsx)(T,{page:l,cameras:e}),Object(a.jsx)(w,{page:l,parking:n}),Object(a.jsx)(C,{page:l,roadworks:t}),Object(a.jsx)(B,{page:l,trafficAnnouncements:c})]})},P=(t(86),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,90)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))}),q=t(67),U=t(70),F=t(71),G=Object(F.a)({uri:"https://api.oulunliikenne.fi/proxy/graphql"}),L=new q.a({link:G,cache:new U.a});i.a.render(Object(a.jsx)(o.ApolloProvider,{client:L,children:Object(a.jsx)(I,{})}),document.getElementById("root")),P()}},[[87,1,2]]]);
//# sourceMappingURL=main.c600ecb7.chunk.js.map